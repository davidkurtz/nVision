REM pstreeselect_interval_partitioning.txt

set echo on
spool pstreeselect_interval_partitioning

CREATE TABLE PSYPSTREESELECT05 (SELECTOR_NUM INTEGER NOT NULL,
   TREE_NODE_NUM INTEGER NOT NULL,
   RANGE_FROM_05 VARCHAR2(05) NOT NULL,
   RANGE_TO_05 VARCHAR2(05) NOT NULL) 
PARTITION BY RANGE (selector_num) INTERVAL (1)
(PARTITION VALUES LESS THAN(2))
TABLESPACE "PTWORK" 
STORAGE(INITIAL 128K NEXT 128K)
/
INSERT INTO PSYPSTREESELECT05 (
        SELECTOR_NUM,
    TREE_NODE_NUM,
    RANGE_FROM_05,
    RANGE_TO_05)
  SELECT
        SELECTOR_NUM,
    TREE_NODE_NUM,
    RANGE_FROM_05,
    RANGE_TO_05
  FROM PSTREESELECT05
/


DROP TABLE PSTREESELECT05
/
ALTER TABLE PSYPSTREESELECT05 RENAME TO PSTREESELECT05
/
CREATE UNIQUE  INDEX PS_PSTREESELECT05 ON PSTREESELECT05 (SELECTOR_NUM
,
   TREE_NODE_NUM,
   RANGE_FROM_05,
   RANGE_TO_05) 
local PCTFREE 5 COMPRESS 1
  TABLESPACE "PSINDEX" 
/
ALTER INDEX PS_PSTREESELECT05 NOPARALLEL LOGGING
/
CREATE   INDEX PSAPSTREESELECT05 ON PSTREESELECT05 (SELECTOR_NUM,
   RANGE_FROM_05,
   RANGE_TO_05,
   TREE_NODE_NUM) 
local PCTFREE 5 COMPRESS 1 TABLESPACE "PSINDEX" 
/
ALTER INDEX PSAPSTREESELECT05 NOPARALLEL LOGGING
/

--add your own roles here
GRANT SELECT ON pstreeselect05 TO sysadm;
GRANT SELECT ON pstreeselect05 TO ps_read_all_role;
GRANT SELECT, INSERT, UPDATE, DELETE ON pstreeselect05 TO ps_read_write;









CREATE TABLE PSYPSTREESELECT06 (SELECTOR_NUM INTEGER NOT NULL,
   TREE_NODE_NUM INTEGER NOT NULL,
   RANGE_FROM_06 VARCHAR2(06) NOT NULL,
   RANGE_TO_06 VARCHAR2(06) NOT NULL) 
PARTITION BY RANGE (selector_num) INTERVAL (1)
(PARTITION VALUES LESS THAN(2))
TABLESPACE "PTWORK"
STORAGE(INITIAL 128K NEXT 128K)
/
INSERT INTO PSYPSTREESELECT06 (
        SELECTOR_NUM,
    TREE_NODE_NUM,
    RANGE_FROM_06,
    RANGE_TO_06)
  SELECT
        SELECTOR_NUM,
    TREE_NODE_NUM,
    RANGE_FROM_06,
    RANGE_TO_06
  FROM PSTREESELECT06
/


DROP TABLE PSTREESELECT06
/
ALTER TABLE PSYPSTREESELECT06 RENAME TO PSTREESELECT06
/
CREATE UNIQUE  INDEX PS_PSTREESELECT06 ON PSTREESELECT06 (SELECTOR_NUM
,
   TREE_NODE_NUM,
   RANGE_FROM_06,
   RANGE_TO_06) 
local PCTFREE 5 COMPRESS 1
  TABLESPACE "PSINDEX" 
/
ALTER INDEX PS_PSTREESELECT06 NOPARALLEL LOGGING
/
CREATE   INDEX PSAPSTREESELECT06 ON PSTREESELECT06 (SELECTOR_NUM,
   RANGE_FROM_06,
   RANGE_TO_06,
   TREE_NODE_NUM) 
local PCTFREE 5 COMPRESS 1 TABLESPACE "PSINDEX" 
/
ALTER INDEX PSAPSTREESELECT06 NOPARALLEL LOGGING
/

--add your own roles here
GRANT SELECT ON pstreeselect06 TO sysadm;
GRANT SELECT ON pstreeselect06 TO ps_read_all_role;
GRANT SELECT, INSERT, UPDATE, DELETE ON pstreeselect06 TO ps_read_write;









CREATE TABLE PSYPSTREESELECT08 (SELECTOR_NUM INTEGER NOT NULL,
   TREE_NODE_NUM INTEGER NOT NULL,
   RANGE_FROM_08 VARCHAR2(8) NOT NULL,
   RANGE_TO_08 VARCHAR2(8) NOT NULL) 
PARTITION BY RANGE (selector_num) INTERVAL (1)
(PARTITION VALUES LESS THAN(2))
TABLESPACE "PTWORK"
STORAGE(INITIAL 128K NEXT 128K)
/
INSERT INTO PSYPSTREESELECT08 (
        SELECTOR_NUM,
    TREE_NODE_NUM,
    RANGE_FROM_08,
    RANGE_TO_08)
  SELECT
        SELECTOR_NUM,
    TREE_NODE_NUM,
    RANGE_FROM_08,
    RANGE_TO_08
  FROM PSTREESELECT08
/


DROP TABLE PSTREESELECT08
/
ALTER TABLE PSYPSTREESELECT08 RENAME TO PSTREESELECT08
/
CREATE UNIQUE  INDEX PS_PSTREESELECT08 ON PSTREESELECT08 (SELECTOR_NUM
,
   TREE_NODE_NUM,
   RANGE_FROM_08,
   RANGE_TO_08) 
local PCTFREE 5 COMPRESS 1 TABLESPACE "PSINDEX" 
/
ALTER INDEX PS_PSTREESELECT08 NOPARALLEL LOGGING
/
CREATE INDEX PSAPSTREESELECT08 ON PSTREESELECT08 (SELECTOR_NUM,
   RANGE_FROM_08,
   RANGE_TO_08,
   TREE_NODE_NUM) 
local PCTFREE 5 COMPRESS 1 TABLESPACE "PSINDEX" 
/
ALTER INDEX PSAPSTREESELECT08 NOPARALLEL LOGGING
/

--add your own roles here
GRANT SELECT ON pstreeselect08 TO sysadm;
GRANT SELECT ON pstreeselect08 TO ps_read_all_role;
GRANT SELECT, INSERT, UPDATE, DELETE ON pstreeselect08 TO ps_read_write;
















CREATE TABLE PSYPSTREESELECT10 (SELECTOR_NUM INTEGER NOT NULL,
   TREE_NODE_NUM INTEGER NOT NULL,
   RANGE_FROM_10 VARCHAR2(10) NOT NULL,
   RANGE_TO_10 VARCHAR2(10) NOT NULL) 
PARTITION BY RANGE (selector_num) INTERVAL (1)
(PARTITION VALUES LESS THAN(2))
TABLESPACE "PTWORK"
STORAGE(INITIAL 128K NEXT 128K)
/
INSERT INTO PSYPSTREESELECT10 (
        SELECTOR_NUM,
    TREE_NODE_NUM,
    RANGE_FROM_10,
    RANGE_TO_10)
  SELECT
        SELECTOR_NUM,
    TREE_NODE_NUM,
    RANGE_FROM_10,
    RANGE_TO_10
  FROM PSTREESELECT10
/


DROP TABLE PSTREESELECT10
/
ALTER TABLE PSYPSTREESELECT10 RENAME TO PSTREESELECT10
/
CREATE UNIQUE  INDEX PS_PSTREESELECT10 ON PSTREESELECT10 (SELECTOR_NUM
,
   TREE_NODE_NUM,
   RANGE_FROM_10,
   RANGE_TO_10) 
local PCTFREE 5 COMPRESS 1 TABLESPACE "PSINDEX" 
/
ALTER INDEX PS_PSTREESELECT10 NOPARALLEL LOGGING
/
CREATE INDEX PSAPSTREESELECT10 ON PSTREESELECT10 (SELECTOR_NUM,
   RANGE_FROM_10,
   RANGE_TO_10,
   TREE_NODE_NUM) 
local PCTFREE 5 COMPRESS 1 TABLESPACE "PSINDEX" 
/
ALTER INDEX PSAPSTREESELECT10 NOPARALLEL LOGGING
/


--add your own roles here
GRANT SELECT ON pstreeselect10 TO sysadm;
GRANT SELECT ON pstreeselect10 TO ps_read_all_role;
GRANT SELECT, INSERT, UPDATE, DELETE ON pstreeselect10 TO ps_read_write;

spool off